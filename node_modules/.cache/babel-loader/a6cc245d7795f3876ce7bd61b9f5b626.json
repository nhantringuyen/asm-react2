{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import YouTube from'react-youtube';import classes from'./MovieDetail.module.css';// CSS module for styling\nconst MovieDetail=_ref=>{let{movieData}=_ref;const[videoKey,setVideoKey]=useState(null);const base_url=\"https://image.tmdb.org/t/p/original/\";useEffect(()=>{if(movieData){const fetchVideo=async()=>{try{const response=await axios.get(\"https://api.themoviedb.org/3/movie/\".concat(movieData.id,\"/videos?api_key=391c32141f9d013bc872bec944088b32\"));const videos=response.data.results;const trailer=videos.find(video=>video.site==='YouTube'&&(video.type==='Trailer'||video.type==='Teaser'));setVideoKey(trailer?trailer.key:null);}catch(error){console.error(\"Lỗi khi lấy dữ liệu trailer\",error);}};fetchVideo();}},[movieData]);if(!movieData)return null;return/*#__PURE__*/React.createElement(\"div\",{className:classes.movieDetail},/*#__PURE__*/React.createElement(\"div\",{className:classes.left},/*#__PURE__*/React.createElement(\"h3\",{className:classes['movie-title']},movieData.title||movieData.name?movieData.title||movieData.name:\"Title not available\"),/*#__PURE__*/React.createElement(\"ul\",{className:classes['movie-meta']},movieData.release_date&&/*#__PURE__*/React.createElement(\"li\",null,\"Release date: \",movieData.release_date),movieData.vote_average!==undefined&&/*#__PURE__*/React.createElement(\"li\",null,\"Vote: \",movieData.vote_average,\" / 10\")),/*#__PURE__*/React.createElement(\"p\",null,movieData.overview?movieData.overview:\"Overview not available.\")),/*#__PURE__*/React.createElement(\"div\",{className:classes.right},videoKey?/*#__PURE__*/React.createElement(YouTube,{videoId:videoKey,opts:{height:'400',width:'100%',playerVars:{autoplay:0}}}):/*#__PURE__*/React.createElement(\"figure\",null,/*#__PURE__*/React.createElement(\"img\",{src:\"\".concat(base_url).concat(movieData.backdrop_path),alt:movieData.name,className:classes.movieDetail__backdrop}))));};export default MovieDetail;","map":{"version":3,"names":["React","useEffect","useState","axios","YouTube","classes","MovieDetail","_ref","movieData","videoKey","setVideoKey","base_url","fetchVideo","response","get","concat","id","videos","data","results","trailer","find","video","site","type","key","error","console","createElement","className","movieDetail","left","title","name","release_date","vote_average","undefined","overview","right","videoId","opts","height","width","playerVars","autoplay","src","backdrop_path","alt","movieDetail__backdrop"],"sources":["D:/NHAN/REACTJS/asm-react2/src/components/MovieList/MovieDetail.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport YouTube from 'react-youtube';\r\nimport classes from './MovieDetail.module.css'; // CSS module for styling\r\n\r\nconst MovieDetail = ({ movieData }) => {\r\n    const [videoKey, setVideoKey] = useState(null);\r\n    const base_url = \"https://image.tmdb.org/t/p/original/\";\r\n\r\n    useEffect(() => {\r\n        if (movieData) {\r\n            const fetchVideo = async() => {\r\n                try {\r\n                    const response = await axios.get(`https://api.themoviedb.org/3/movie/${movieData.id}/videos?api_key=391c32141f9d013bc872bec944088b32`);\r\n                    const videos = response.data.results;\r\n                    const trailer = videos.find(video => video.site === 'YouTube' && (video.type === 'Trailer' || video.type === 'Teaser'));\r\n                    setVideoKey(trailer ? trailer.key : null);\r\n                } catch (error) {\r\n                    console.error(\"Lỗi khi lấy dữ liệu trailer\", error);\r\n                }\r\n            };\r\n            fetchVideo();\r\n        }\r\n    }, [movieData]);\r\n    if (!movieData) return null;\r\n\r\n    return (\r\n        <div className={classes.movieDetail}>\r\n            <div className={classes.left}>\r\n                <h3 className={classes['movie-title']}>\r\n                    {movieData.title || movieData.name ? movieData.title || movieData.name : \"Title not available\"}\r\n                </h3>\r\n                <ul className={classes['movie-meta']}>\r\n                    {movieData.release_date && <li>Release date: {movieData.release_date}</li>}\r\n                    {movieData.vote_average !== undefined && <li>Vote: {movieData.vote_average} / 10</li>}\r\n                </ul>\r\n                <p>{movieData.overview ? movieData.overview : \"Overview not available.\"}</p>\r\n            </div>\r\n            <div className={classes.right}>\r\n                {videoKey ? (\r\n                    <YouTube\r\n                        videoId={videoKey}\r\n                        opts={{height: '400', width: '100%', playerVars: {autoplay: 0}}}\r\n                    />\r\n                ) : (\r\n                    <figure>\r\n                        <img\r\n                            src={`${base_url}${movieData.backdrop_path}`}\r\n                            alt={movieData.name}\r\n                        className={classes.movieDetail__backdrop}\r\n                    /></figure>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MovieDetail;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}