{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import classes from'./Banner.module.css';// Import CSS Module\nfunction Banner(_ref){let{fetchUrl}=_ref;const[movie,setMovie]=useState({});useEffect(()=>{const fetchData=async()=>{try{const request=await axios.get(fetchUrl);const randomMovie=request.data.results[Math.floor(Math.random()*request.data.results.length-1)];setMovie(randomMovie);}catch(error){console.error(\"Lỗi khi lấy dữ liệu từ API\",error);}};fetchData();},[fetchUrl]);const truncate=(str,n)=>{return(str===null||str===void 0?void 0:str.length)>n?str.substr(0,n-1)+\"...\":str;};return/*#__PURE__*/React.createElement(\"header\",{className:classes.banner,style:{backgroundSize:\"cover\",backgroundImage:\"url(\\\"https://image.tmdb.org/t/p/original\".concat(movie===null||movie===void 0?void 0:movie.backdrop_path,\"\\\")\"),backgroundPosition:\"center center\"}},/*#__PURE__*/React.createElement(\"div\",{className:classes.banner__contents},/*#__PURE__*/React.createElement(\"h1\",{className:classes.banner__title},(movie===null||movie===void 0?void 0:movie.title)||(movie===null||movie===void 0?void 0:movie.name)||(movie===null||movie===void 0?void 0:movie.original_name)),/*#__PURE__*/React.createElement(\"div\",{className:classes.banner__buttons},/*#__PURE__*/React.createElement(\"button\",{className:classes.banner__button},\"Play\"),/*#__PURE__*/React.createElement(\"button\",{className:classes.banner__button},\"My List\")),/*#__PURE__*/React.createElement(\"h1\",{className:classes.banner__description},truncate(movie===null||movie===void 0?void 0:movie.overview,150))),/*#__PURE__*/React.createElement(\"div\",{className:classes['banner--fadeBottom']}));}export default Banner;","map":{"version":3,"names":["React","useState","useEffect","axios","classes","Banner","_ref","fetchUrl","movie","setMovie","fetchData","request","get","randomMovie","data","results","Math","floor","random","length","error","console","truncate","str","n","substr","createElement","className","banner","style","backgroundSize","backgroundImage","concat","backdrop_path","backgroundPosition","banner__contents","banner__title","title","name","original_name","banner__buttons","banner__button","banner__description","overview"],"sources":["D:/NHAN/REACTJS/asm-react2/src/components/Banner/index.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport classes from './Banner.module.css'; // Import CSS Module\r\n\r\nfunction Banner({ fetchUrl}) {\r\n    const [movie, setMovie] = useState({});\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                const request = await axios.get(fetchUrl);\r\n                const randomMovie = request.data.results[\r\n                    Math.floor(Math.random() * request.data.results.length - 1)\r\n                    ];\r\n                setMovie(randomMovie);\r\n            } catch (error) {\r\n                console.error(\"Lỗi khi lấy dữ liệu từ API\", error);\r\n            }\r\n        };\r\n\r\n        fetchData();\r\n    }, [fetchUrl]);\r\n\r\n    const truncate = (str, n) => {\r\n        return str?.length > n ? str.substr(0, n - 1) + \"...\" : str;\r\n    };\r\n\r\n    return (\r\n        <header\r\n            className={classes.banner}\r\n            style={{\r\n                backgroundSize: \"cover\",\r\n                backgroundImage: `url(\"https://image.tmdb.org/t/p/original${movie?.backdrop_path}\")`,\r\n                backgroundPosition: \"center center\",\r\n            }}\r\n        >\r\n            <div className={classes.banner__contents}>\r\n                <h1 className={classes.banner__title}>\r\n                    {movie?.title || movie?.name || movie?.original_name}\r\n                </h1>\r\n                <div className={classes.banner__buttons}>\r\n                    <button className={classes.banner__button}>Play</button>\r\n                    <button className={classes.banner__button}>My List</button>\r\n                </div>\r\n                <h1 className={classes.banner__description}>\r\n                    {truncate(movie?.overview, 150)}\r\n                </h1>\r\n            </div>\r\n            <div className={classes['banner--fadeBottom']}></div>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Banner;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,OAAO,KAAM,qBAAqB,CAAE;AAE3C,QAAS,CAAAC,MAAMA,CAAAC,IAAA,CAAc,IAAb,CAAEC,QAAQ,CAAC,CAAAD,IAAA,CACvB,KAAM,CAACE,KAAK,CAAEC,QAAQ,CAAC,CAAGR,QAAQ,CAAC,CAAC,CAAC,CAAC,CAEtCC,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAQ,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC1B,GAAI,CACA,KAAM,CAAAC,OAAO,CAAG,KAAM,CAAAR,KAAK,CAACS,GAAG,CAACL,QAAQ,CAAC,CACzC,KAAM,CAAAM,WAAW,CAAGF,OAAO,CAACG,IAAI,CAACC,OAAO,CACpCC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,CAAGP,OAAO,CAACG,IAAI,CAACC,OAAO,CAACI,MAAM,CAAG,CAAC,CAAC,CAC1D,CACLV,QAAQ,CAACI,WAAW,CAAC,CACzB,CAAE,MAAOO,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,4BAA4B,CAAEA,KAAK,CAAC,CACtD,CACJ,CAAC,CAEDV,SAAS,CAAC,CAAC,CACf,CAAC,CAAE,CAACH,QAAQ,CAAC,CAAC,CAEd,KAAM,CAAAe,QAAQ,CAAGA,CAACC,GAAG,CAAEC,CAAC,GAAK,CACzB,MAAO,CAAAD,GAAG,SAAHA,GAAG,iBAAHA,GAAG,CAAEJ,MAAM,EAAGK,CAAC,CAAGD,GAAG,CAACE,MAAM,CAAC,CAAC,CAAED,CAAC,CAAG,CAAC,CAAC,CAAG,KAAK,CAAGD,GAAG,CAC/D,CAAC,CAED,mBACIvB,KAAA,CAAA0B,aAAA,WACIC,SAAS,CAAEvB,OAAO,CAACwB,MAAO,CAC1BC,KAAK,CAAE,CACHC,cAAc,CAAE,OAAO,CACvBC,eAAe,6CAAAC,MAAA,CAA6CxB,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAEyB,aAAa,OAAI,CACpFC,kBAAkB,CAAE,eACxB,CAAE,eAEFlC,KAAA,CAAA0B,aAAA,QAAKC,SAAS,CAAEvB,OAAO,CAAC+B,gBAAiB,eACrCnC,KAAA,CAAA0B,aAAA,OAAIC,SAAS,CAAEvB,OAAO,CAACgC,aAAc,EAChC,CAAA5B,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAE6B,KAAK,IAAI7B,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAE8B,IAAI,IAAI9B,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAE+B,aAAa,CACpD,CAAC,cACLvC,KAAA,CAAA0B,aAAA,QAAKC,SAAS,CAAEvB,OAAO,CAACoC,eAAgB,eACpCxC,KAAA,CAAA0B,aAAA,WAAQC,SAAS,CAAEvB,OAAO,CAACqC,cAAe,EAAC,MAAY,CAAC,cACxDzC,KAAA,CAAA0B,aAAA,WAAQC,SAAS,CAAEvB,OAAO,CAACqC,cAAe,EAAC,SAAe,CACzD,CAAC,cACNzC,KAAA,CAAA0B,aAAA,OAAIC,SAAS,CAAEvB,OAAO,CAACsC,mBAAoB,EACtCpB,QAAQ,CAACd,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAEmC,QAAQ,CAAE,GAAG,CAC9B,CACH,CAAC,cACN3C,KAAA,CAAA0B,aAAA,QAAKC,SAAS,CAAEvB,OAAO,CAAC,oBAAoB,CAAE,CAAM,CAChD,CAAC,CAEjB,CAEA,cAAe,CAAAC,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module"}