{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import SearchForm from'../../components/SearchForm';import ResultList from'../../components/ResultList';import MovieDetail from'../../components/MovieList/MovieDetail';// Assume you have this component already\nfunction SearchPage(){const[movies,setMovies]=useState([]);const[selectedMovie,setSelectedMovie]=useState(null);const[loading,setLoading]=useState(false);// New loading state\nconst searchMovies=async query=>{const api_key='391c32141f9d013bc872bec944088b32';setLoading(true);// Start loading\ntry{const response=await axios.get('https://api.themoviedb.org/3/search/movie',{params:{api_key,query,language:'en'}});setMovies(response.data.results);}catch(error){console.error('Error fetching movies:',error);}finally{setLoading(false);// Stop loading\n}};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(SearchForm,{onSearch:searchMovies}),loading?/*#__PURE__*/React.createElement(\"p\",null,\"Loading...\")// Loading indicator\n:/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ResultList,{movies:movies,onSelectMovie:setSelectedMovie}),selectedMovie&&/*#__PURE__*/React.createElement(MovieDetail,{movieData:selectedMovie})));}export default SearchPage;","map":{"version":3,"names":["React","useState","axios","SearchForm","ResultList","MovieDetail","SearchPage","movies","setMovies","selectedMovie","setSelectedMovie","loading","setLoading","searchMovies","query","api_key","response","get","params","language","data","results","error","console","createElement","onSearch","Fragment","onSelectMovie","movieData"],"sources":["D:/NHAN/REACTJS/asm-react2/src/pages/search/Search.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport SearchForm from '../../components/SearchForm';\r\nimport ResultList from '../../components/ResultList';\r\nimport MovieDetail from '../../components/MovieList/MovieDetail'; // Assume you have this component already\r\n\r\nfunction SearchPage() {\r\n\tconst [movies, setMovies] = useState([]);\r\n\tconst [selectedMovie, setSelectedMovie] = useState(null);\r\n\tconst [loading, setLoading] = useState(false); // New loading state\r\n\r\n\tconst searchMovies = async (query) => {\r\n\t\tconst api_key = '391c32141f9d013bc872bec944088b32';\r\n\t\tsetLoading(true); // Start loading\r\n\t\ttry {\r\n\t\t\tconst response = await axios.get('https://api.themoviedb.org/3/search/movie', {\r\n\t\t\t\tparams: { api_key, query, language: 'en' },\r\n\t\t\t});\r\n\t\t\tsetMovies(response.data.results);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('Error fetching movies:', error);\r\n\t\t} finally {\r\n\t\t\tsetLoading(false); // Stop loading\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<SearchForm onSearch={searchMovies} />\r\n\t\t\t{loading ? (\r\n\t\t\t\t<p>Loading...</p> // Loading indicator\r\n\t\t\t) : (\r\n\t\t\t\t<>\r\n\t\t\t\t<ResultList movies={movies} onSelectMovie={setSelectedMovie} />\r\n\t\t\t    {selectedMovie && <MovieDetail movieData={selectedMovie} />}\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default SearchPage;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,UAAU,KAAM,6BAA6B,CACpD,MAAO,CAAAC,UAAU,KAAM,6BAA6B,CACpD,MAAO,CAAAC,WAAW,KAAM,wCAAwC,CAAE;AAElE,QAAS,CAAAC,UAAUA,CAAA,CAAG,CACrB,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGP,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACQ,aAAa,CAAEC,gBAAgB,CAAC,CAAGT,QAAQ,CAAC,IAAI,CAAC,CACxD,KAAM,CAACU,OAAO,CAAEC,UAAU,CAAC,CAAGX,QAAQ,CAAC,KAAK,CAAC,CAAE;AAE/C,KAAM,CAAAY,YAAY,CAAG,KAAO,CAAAC,KAAK,EAAK,CACrC,KAAM,CAAAC,OAAO,CAAG,kCAAkC,CAClDH,UAAU,CAAC,IAAI,CAAC,CAAE;AAClB,GAAI,CACH,KAAM,CAAAI,QAAQ,CAAG,KAAM,CAAAd,KAAK,CAACe,GAAG,CAAC,2CAA2C,CAAE,CAC7EC,MAAM,CAAE,CAAEH,OAAO,CAAED,KAAK,CAAEK,QAAQ,CAAE,IAAK,CAC1C,CAAC,CAAC,CACFX,SAAS,CAACQ,QAAQ,CAACI,IAAI,CAACC,OAAO,CAAC,CACjC,CAAE,MAAOC,KAAK,CAAE,CACfC,OAAO,CAACD,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAC/C,CAAC,OAAS,CACTV,UAAU,CAAC,KAAK,CAAC,CAAE;AACpB,CACD,CAAC,CAED,mBACCZ,KAAA,CAAAwB,aAAA,yBACCxB,KAAA,CAAAwB,aAAA,CAACrB,UAAU,EAACsB,QAAQ,CAAEZ,YAAa,CAAE,CAAC,CACrCF,OAAO,cACPX,KAAA,CAAAwB,aAAA,UAAG,YAAa,CAAE;AAAA,cAElBxB,KAAA,CAAAwB,aAAA,CAAAxB,KAAA,CAAA0B,QAAA,mBACA1B,KAAA,CAAAwB,aAAA,CAACpB,UAAU,EAACG,MAAM,CAAEA,MAAO,CAACoB,aAAa,CAAEjB,gBAAiB,CAAE,CAAC,CAC3DD,aAAa,eAAIT,KAAA,CAAAwB,aAAA,CAACnB,WAAW,EAACuB,SAAS,CAAEnB,aAAc,CAAE,CAC3D,CAGC,CAAC,CAER,CAEA,cAAe,CAAAH,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module"}