{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import Slider from\"react-slick\";import classes from'./MovieList.module.css';// Import CSS module\nimport\"slick-carousel/slick/slick.css\";import\"slick-carousel/slick/slick-theme.css\";import MovieDetail from'./MovieDetail';// Import MovieDetail component\nfunction MovieList(_ref){let{title,fetchUrl,isLargeRow=false,isOriginal=false}=_ref;const[movies,setMovies]=useState([]);const[selectedMovie,setSelectedMovie]=useState(null);useEffect(()=>{const fetchData=async()=>{try{const request=await axios.get(fetchUrl);setMovies(request.data.results);}catch(error){console.error(\"Lỗi khi lấy dữ liệu từ API\",error);}};fetchData();},[fetchUrl]);const base_url=\"https://image.tmdb.org/t/p/original/\";const sliderSettings={dots:false,nav:false,infinite:true,speed:500,slidesToShow:6,slidesToScroll:6,responsive:[{breakpoint:1024,settings:{slidesToShow:5,slidesToScroll:5,infinite:true}},{breakpoint:600,settings:{slidesToShow:3,slidesToScroll:3,initialSlide:2}},{breakpoint:480,settings:{slidesToShow:2,slidesToScroll:2}}]};const handleMovieClick=movie=>{if(selectedMovie&&selectedMovie.id===movie.id){setSelectedMovie(null);// Ẩn thông tin nếu người dùng click lại vào bộ phim đang xem\n}else{setSelectedMovie(movie);// Hiển thị thông tin của bộ phim khác\n}};return/*#__PURE__*/React.createElement(\"section\",{className:classes.movieSection},/*#__PURE__*/React.createElement(\"div\",{className:classes.movieList},/*#__PURE__*/React.createElement(\"h2\",null,title),isOriginal?/*#__PURE__*/React.createElement(\"div\",{className:classes.originalsGrid},movies.slice(0,10).map(movie=>/*#__PURE__*/React.createElement(\"figure\",{key:movie.id},/*#__PURE__*/React.createElement(\"img\",{className:\"\".concat(classes.movieList__poster,\" \").concat(classes.movieList__posterLarge),src:\"\".concat(base_url).concat(movie.poster_path),alt:movie.name||movie.title,onClick:()=>handleMovieClick(movie)})))):/*#__PURE__*/React.createElement(Slider,Object.assign({},sliderSettings,{className:classes.slickWrap}),movies.map(movie=>/*#__PURE__*/React.createElement(\"figure\",{key:movie.id,className:classes.slideImage},/*#__PURE__*/React.createElement(\"img\",{className:classes.movieList__poster,src:\"\".concat(base_url).concat(movie.backdrop_path),alt:movie.name||movie.title,onMouseEnter:()=>{}/* Add hover animation here */,onClick:()=>handleMovieClick(movie)}))))),selectedMovie&&/*#__PURE__*/React.createElement(MovieDetail,{movieData:selectedMovie}));}export default MovieList;","map":{"version":3,"names":["React","useState","useEffect","axios","Slider","classes","MovieDetail","MovieList","_ref","title","fetchUrl","isLargeRow","isOriginal","movies","setMovies","selectedMovie","setSelectedMovie","fetchData","request","get","data","results","error","console","base_url","sliderSettings","dots","nav","infinite","speed","slidesToShow","slidesToScroll","responsive","breakpoint","settings","initialSlide","handleMovieClick","movie","id","createElement","className","movieSection","movieList","originalsGrid","slice","map","key","concat","movieList__poster","movieList__posterLarge","src","poster_path","alt","name","onClick","Object","assign","slickWrap","slideImage","backdrop_path","onMouseEnter","movieData"],"sources":["D:/NHAN/REACTJS/asm-react2/src/components/MovieList/index.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport Slider from \"react-slick\";\r\nimport classes from './MovieList.module.css'; // Import CSS module\r\nimport \"slick-carousel/slick/slick.css\";\r\nimport \"slick-carousel/slick/slick-theme.css\";\r\nimport MovieDetail from './MovieDetail'; // Import MovieDetail component\r\n\r\n\r\nfunction MovieList({ title, fetchUrl, isLargeRow = false, isOriginal = false }) {\r\n    const [movies, setMovies] = useState([]);\r\n    const [selectedMovie, setSelectedMovie] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                const request = await axios.get(fetchUrl);\r\n                setMovies(request.data.results);\r\n            } catch (error) {\r\n                console.error(\"Lỗi khi lấy dữ liệu từ API\", error);\r\n            }\r\n        };\r\n\r\n        fetchData();\r\n    }, [fetchUrl]);\r\n\r\n    const base_url = \"https://image.tmdb.org/t/p/original/\";\r\n\r\n    const sliderSettings = {\r\n        dots: false,\r\n        nav:false,\r\n        infinite: true,\r\n        speed: 500,\r\n        slidesToShow: 6,\r\n        slidesToScroll: 6,\r\n        responsive: [\r\n            {\r\n                breakpoint: 1024,\r\n                settings: {\r\n                    slidesToShow: 5,\r\n                    slidesToScroll: 5,\r\n                    infinite: true,\r\n                },\r\n            },\r\n            {\r\n                breakpoint: 600,\r\n                settings: {\r\n                    slidesToShow: 3,\r\n                    slidesToScroll: 3,\r\n                    initialSlide: 2,\r\n                },\r\n            },\r\n            {\r\n                breakpoint: 480,\r\n                settings: {\r\n                    slidesToShow: 2,\r\n                    slidesToScroll: 2,\r\n                },\r\n            },\r\n        ],\r\n    };\r\n    const handleMovieClick = (movie) => {\r\n        if (selectedMovie && selectedMovie.id === movie.id) {\r\n            setSelectedMovie(null); // Ẩn thông tin nếu người dùng click lại vào bộ phim đang xem\r\n        } else {\r\n            setSelectedMovie(movie); // Hiển thị thông tin của bộ phim khác\r\n        }\r\n    };\r\n    return (\r\n        <section className={classes.movieSection}>\r\n            <div className={classes.movieList}>\r\n                <h2>{title}</h2>\r\n                {isOriginal ? (\r\n                    <div className={classes.originalsGrid}>\r\n                        {movies.slice(0, 10).map((movie) => (\r\n                            <figure key={movie.id}>\r\n                            <img\r\n                                className={`${classes.movieList__poster} ${classes.movieList__posterLarge}`}\r\n                                src={`${base_url}${movie.poster_path}`}\r\n                                alt={movie.name || movie.title}\r\n                                onClick={() => handleMovieClick(movie)}\r\n                            />\r\n                            </figure>\r\n                        ))}\r\n                    </div>\r\n                ) : (\r\n                    <Slider {...sliderSettings} className={classes.slickWrap}>\r\n                        {movies.map((movie) => (\r\n                            <figure key={movie.id} className={classes.slideImage}>\r\n                            <img\r\n                                className={classes.movieList__poster}\r\n                                src={`${base_url}${movie.backdrop_path}`}\r\n                                alt={movie.name || movie.title}\r\n                                onMouseEnter={() => {} /* Add hover animation here */}\r\n                                onClick={() => handleMovieClick(movie)}\r\n                            />\r\n                            </figure>\r\n                        ))}\r\n                    </Slider>\r\n                )}\r\n            </div>\r\n            {selectedMovie && <MovieDetail movieData={selectedMovie} />}\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default MovieList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}